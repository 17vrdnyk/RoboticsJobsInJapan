<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japanese Robotics Companies Directory</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
        .gradient-bg {
            background-image: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
        }
        .search-input {
            transition: all 0.3s ease-in-out;
        }
        .search-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5); /* Blue focus ring */
        }
        table {
            width: 100%;
            border-collapse: separate; /* Use separate to allow border-spacing */
            border-spacing: 0; /* Remove default spacing */
            margin-top: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); /* More pronounced shadow */
            border-radius: 1rem; /* More rounded corners for the table container */
            overflow: hidden; /* Ensures rounded corners apply to content */
        }
        th, td {
            padding: 1.25rem 1.5rem; /* Increased padding for more breathing room */
            text-align: left;
            /* No individual border-bottom here, rely on row styling */
        }
        th {
            background-color: #3b82f6; /* A more vibrant blue for header */
            color: white; /* White text for contrast */
            font-weight: 700; /* Bolder font weight */
            text-transform: uppercase;
            font-size: 0.9rem; /* Slightly larger font */
            letter-spacing: 0.05em; /* A bit of letter spacing */
            border-bottom: 2px solid #2563eb; /* Stronger bottom border for header */
            cursor: pointer; /* Indicate sortable header */
            position: sticky; /* Make header sticky */
            top: 0; /* Stick to the top */
            z-index: 10; /* Ensure it stays above content */
        }
        /* Specific rounded corners for header cells */
        th:first-child {
            border-top-left-radius: 1rem;
        }
        th:last-child {
            border-top-right-radius: 1rem;
        }

        tr {
            background-color: #ffffff; /* White background for all rows initially */
            transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        tr:nth-child(even) {
            background-color: #f8fafc; /* Subtle off-white for even rows */
        }
        tr:hover {
            background-color: #e0f2fe; /* Lighter blue on hover */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); /* Subtle shadow on hover */
            transform: translateY(-2px); /* Slight lift on hover */
        }
        td {
            border-bottom: 1px solid #e2e8f0; /* Light gray border for cells */
            color: #4a5568; /* Slightly darker text for content */
        }
        /* Remove bottom border for last row's cells */
        tr:last-child td {
            border-bottom: none;
        }

        a {
            color: #1d4ed8; /* Darker blue for links */
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease-in-out;
        }
        a:hover {
            color: #2563eb; /* Lighter blue on hover */
            text-decoration: underline;
        }
        .na-text {
            color: #9ca3af; /* Gray text for N/A */
            font-style: italic;
        }
        .sort-icon {
            margin-left: 0.5rem;
            font-size: 0.75rem;
            vertical-align: middle;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8">
    <header class="w-full max-w-6xl text-center mb-12">
        <h1 class="text-5xl sm:text-6xl font-extrabold text-gray-900 leading-tight mb-4">
            <span class="gradient-bg bg-clip-text text-transparent">Japanese Robotics Companies</span>
        </h1>
        <p class="text-xl text-gray-600">A comprehensive directory of companies in robotics, AI, IoT, and embedded systems.</p>
    </header>

    <main class="w-full max-w-7xl">
        <!-- Search and Filter Section -->
        <div class="mb-8 p-6 bg-white rounded-xl shadow-lg flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4">
            <input
                type="text"
                id="searchBar"
                placeholder="Search by company name, focus area, or location..."
                class="search-input flex-grow p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700"
            >
            <select
                id="locationFilter"
                class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700 w-full sm:w-auto"
            >
                <option value="">All Locations</option>
                <!-- Options will be populated by JavaScript -->
            </select>
        </div>

        <!-- Company Listings Table -->
        <div class="bg-white rounded-xl shadow-lg p-0 sm:p-6 overflow-x-auto">
            <table id="companyTable">
                <thead>
                    <tr>
                        <th data-sort-by="name">Company Name <span class="sort-icon"></span></th>
                        <th data-sort-by="location">Location <span class="sort-icon"></span></th>
                        <th data-sort-by="focus">Focus Area <span class="sort-icon"></span></th>
                        <th data-sort-by="funding">Funding <span class="sort-icon"></span></th>
                        <th data-sort-by="englishFriendly">English-Friendly <span class="sort-icon"></span></th>
                        <th data-sort-by="website">Website <span class="sort-icon"></span></th>
                        <th data-sort-by="careerPage">Career Page <span class="sort-icon"></span></th>
                        <th data-sort-by="contactEmail">Contact Email <span class="sort-icon"></span></th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Company rows will be injected here by JavaScript -->
                </tbody>
            </table>
            <!-- No Results Message -->
            <div id="noResults" class="hidden text-center text-gray-600 text-lg p-12">
                No companies found matching your criteria. Please try a different search or filter.
            </div>
        </div>
    </main>

    <footer class="w-full max-w-7xl text-center mt-12 py-6 border-t border-gray-200 text-gray-500">
        <p>&copy; 2025 Robotics Companies Directory. All rights reserved.</p>
    </footer>

    <script>
        // Data parsed and researched from the document
        const companiesData = [
            {
                name: "Prodrone Co., Ltd.",
                location: "N/A",
                website: "https://www.prodrone.com/jp/",
                focus: "Develops drones and control software.",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.prodrone.com/jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Chinougijutsu Co., Ltd.",
                location: "Osaka, Osaka",
                website: "https://chinougijutsu.co.jp/",
                focus: "Robot technology, Image processing, Cleaning robots, Autonomous vehicle control, AI software, Medical devices",
                funding: "Established 2007, Capital: ¥75M, Sales: ¥150M",
                englishFriendly: "Yes (Hires \"Highly-Skilled Foreign Professionals\")",
                careerPage: "https://chinougijutsu.co.jp/recruit",
                contactEmail: "info@chinou.co.jp",
            },
            {
                name: "Seedea",
                location: "N/A",
                website: "https://seedea.jp/",
                focus: "LSI design, embedded software, and system integration",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://seedea.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "SAZO Inc.",
                location: "N/A",
                website: "https://sazo.tech/",
                focus: "SCM/Logistics Planning with AIoT-based inventory management",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://sazo.tech/join-us/",
                contactEmail: "N/A",
            },
            {
                name: "PDOLE.inc",
                location: "N/A",
                website: "https://pdole.com/",
                focus: "Global management strategy support with an emphasis on \"Globalize AI\"",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://pdole.com/careers",
                contactEmail: "N/A",
            },
            {
                name: "Mujin Inc.",
                location: "Koto, Tokyo",
                website: "https://mujin-corp.com/",
                focus: "Intelligent robotics and automation for logistics and industrial applications",
                funding: "US$85M Series C",
                englishFriendly: "Likely (Global operations)",
                careerPage: "https://mujin-corp.com/en/careers/",
                contactEmail: "info@mujin-corp.com",
            },
            {
                name: "GITAI",
                location: "N/A",
                website: "https://gitai.tech/",
                focus: "Space robotics (satellite servicing, space station tasks, lunar exploration)",
                funding: "¥4 billion (US$30M) Series B Extension",
                englishFriendly: "Likely (Global mission)",
                careerPage: "https://gitai.tech/careers",
                contactEmail: "N/A",
            },
            {
                name: "Rapyuta Robotics",
                location: "Koto, Tokyo",
                website: "https://www.rapyuta-robotics.com/",
                focus: "Cloud robotics platform, automating \"3D\" jobs (Dirty, Dangerous, Difficult)",
                funding: "N/A",
                englishFriendly: "Yes (Team from over 20 countries)",
                careerPage: "https://www.rapyuta-robotics.com/careers/",
                contactEmail: "info@rapyuta-robotics.com",
            },
            {
                name: "ZMP / ROBO-HI Corporation",
                location: "N/A",
                website: "https://www.zmp.co.jp/",
                focus: "Autonomous driving technology, Multi-vendor robot platform, Industrial & Life Mobility",
                funding: "N/A",
                englishFriendly: "Likely (Lists \"Robotics Engineer (EN)\" roles)",
                careerPage: "https://www.zmp.co.jp/recruit",
                contactEmail: "N/A",
            },
            {
                name: "Tier IV",
                location: "Nagoya, Aichi",
                website: "https://tier4.jp/",
                focus: "Open-source software for self-driving technology",
                funding: "¥10,985M Series A",
                englishFriendly: "Likely (Global collaboration)",
                careerPage: "https://tier4.jp/en/careers/",
                contactEmail: "careers@tier4.jp",
            },
            {
                name: "GROOVE X",
                location: "N/A",
                website: "https://groove-x.com/",
                focus: "Consumer robotics, home robots (LOVOT)",
                funding: "N/A",
                englishFriendly: "Likely (New business field)",
                careerPage: "https://www.wantedly.com/companies/groove-x",
                contactEmail: "N/A",
            },
            {
                name: "Telexistence Inc.",
                location: "Minato, Tokyo",
                website: "https://tx-inc.com/",
                focus: "AI-powered robotic solutions for retail and logistics automation",
                funding: "N/A",
                englishFriendly: "Likely (Seeks global professionals)",
                careerPage: "https://tx-inc.com/en/career/",
                contactEmail: "N/A",
            },
            {
                name: "Smile Robotics",
                location: "N/A",
                website: "https://smilerobotics.com/",
                focus: "In-house robotic products for service industries, mobile robot development platform",
                funding: "N/A",
                englishFriendly: "Likely (Recruiting interns)",
                careerPage: "https://smilerobotics.com/recruit",
                contactEmail: "N/A",
            },
            {
                name: "Coarobo GK",
                location: "N/A",
                website: "https://coarobo.com/",
                focus: "Containerized Software Development Environment (SDE) for service robotics and AI",
                funding: "N/A",
                englishFriendly: "Unclear",
                careerPage: "N/A",
                contactEmail: "info@coarobo.com",
            },
            {
                name: "SkyDrive Inc.",
                location: "N/A",
                website: "https://en.skydrive2020.com/",
                focus: "Flying cars and cargo drones",
                funding: "¥4,064M Series B",
                englishFriendly: "Likely (Aiming for global launch)",
                careerPage: "https://en.skydrive2020.com/career",
                contactEmail: "N/A",
            },
            {
                name: "DeepX",
                location: "N/A",
                website: "https://www.deepx.co.jp/",
                focus: "Robotics system integration, automating any machine",
                funding: "N/A",
                englishFriendly: "Yes (\"No Japanese required\")",
                careerPage: "https://www.deepx.co.jp/en/careers",
                contactEmail: "N/A",
            },
            {
                name: "Flower Robotics",
                location: "N/A",
                website: "https://www.flower-robotics.com/",
                focus: "Design and development of various robots, consumer robotics",
                funding: "N/A",
                englishFriendly: "Unclear",
                careerPage: "N/A (Contact form on website)",
                contactEmail: "contact@flower-robotics.com",
            },
            {
                name: "Hibot Inc.",
                location: "N/A",
                website: "https://www.hibot.co.jp/",
                focus: "Mobile robotics for industrial inspection and maintenance",
                funding: "N/A",
                englishFriendly: "Unclear",
                careerPage: "https://www.hibot.co.jp/en/recruit-en/",
                contactEmail: "N/A",
            },
            {
                name: "Kyoto Robotics (3D MEDiA Co., Ltd.)",
                location: "Kyoto, Kyoto",
                website: "https://www.kyotorobotics.co.jp/",
                focus: "3D robot vision systems for industrial use, logistics",
                funding: "¥800M authorized investment",
                englishFriendly: "Unclear",
                careerPage: "https://www.kyotorobotics.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Kudan Inc.",
                location: "N/A",
                website: "https://www.kudan.io/",
                focus: "SLAM technology for AR/VR and autonomous navigation",
                funding: "N/A",
                englishFriendly: "Unclear",
                careerPage: "https://www.kudan.io/careers",
                contactEmail: "contact@kudan.eu",
            },
            {
                name: "Nikko Co.Ltd",
                location: "N/A",
                website: "https://www.nikko-company.co.jp/",
                focus: "General Machinery",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.nikko-company.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "NEXT. Inc.",
                location: "N/A",
                website: "https://www.next-system.com/",
                focus: "AR/AI Systems, Electrical Machinery, Software",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.next-system.com/recruit",
                contactEmail: "N/A",
            },
            {
                name: "ELIS CO., LTD.",
                location: "N/A",
                website: "https://www.elis.co.jp/",
                focus: "General Machinery, Electrical Machinery, Professional Service",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.elis.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "GMO Research, Inc.",
                location: "N/A",
                website: "https://gmo-research.jp/",
                focus: "Communication and Information and Software",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://gmo-research.jp/recruit-en",
                contactEmail: "N/A",
            },
            {
                name: "Okwi.inc",
                location: "N/A",
                website: "https://okwi.jp/",
                focus: "Professional Service, Communication and Information and Software",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "N/A (Contact form on website)",
                contactEmail: "N/A",
            },
            {
                name: "XELA Robotics",
                location: "N/A",
                website: "https://www.xelarobotics.com/",
                focus: "Robotics Innovation, Haptic Technology, Tactile Sensors",
                funding: "N/A",
                englishFriendly: "Open to English speakers",
                careerPage: "https://www.xelarobotics.com/jobs",
                contactEmail: "job@xelarobotics.com",
            },
            {
                name: "SoftBank Robotics",
                location: "N/A",
                website: "https://www.softbankrobotics.com/",
                focus: "Humanoid Robots, Service Robotics (Pepper, Whiz)",
                funding: "N/A",
                englishFriendly: "Global company",
                careerPage: "https://www.softbankrobotics.com/corp/recruit/",
                contactEmail: "SBRGRP-PR@g.softbank.co.jp",
            },
            {
                name: "LeapMind",
                location: "N/A",
                website: "https://leapmind.io/",
                focus: "Compact Deep Learning for Edge Devices",
                funding: "N/A",
                englishFriendly: "Business contact available",
                careerPage: "https://leapmind.io/en/careers/",
                contactEmail: "business@leapmind.io",
            },
            {
                name: "FANUC",
                location: "N/A",
                website: "https://www.fanuc.co.jp/",
                focus: "Industrial Automation, Robots, CNC, ROBOMACHINEs",
                funding: "N/A",
                englishFriendly: "Global company",
                careerPage: "https://www.fanuc.co.jp/ja/recruit/index.html",
                contactEmail: "N/A",
            },
            {
                name: "Yaskawa Electric",
                location: "N/A",
                website: "https://www.yaskawa-global.com/",
                focus: "Industrial Robotics Components, Drives, Motion Control",
                funding: "N/A",
                englishFriendly: "Global company",
                careerPage: "https://www.yaskawa-global.com/recruit",
                contactEmail: "web_mstr@yaskawa.co.jp",
            },
            {
                name: "Guide Robotics Inc.",
                location: "N/A",
                website: "N/A",
                focus: "Robotics",
                funding: "N/A",
                englishFriendly: "Explicitly \"Only English Required.\"",
                careerPage: "N/A (Listed on JETRO portal)",
                contactEmail: "N/A",
            },
            {
                name: "Connected Robotics",
                location: "Koganei, Tokyo",
                website: "https://connected-robotics.com/",
                focus: "Food industry robotics (OctoChef, automated dishwasher robots)",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://connected-robotics.com/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Preferred Networks",
                location: "Chiyoda, Tokyo",
                website: "https://www.pfn.jp/",
                focus: "Deep learning for robotics, manufacturing, and IoT integration",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.pfn.jp/careers",
                contactEmail: "N/A",
            },
            {
                name: "Muse Inc.",
                location: "Shibuya, Tokyo",
                website: "https://www.museinc.co.jp/",
                focus: "IoT solutions, embedded systems, and smart device integration",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.museinc.co.jp/recruit",
                contactEmail: "N/A",
            },
            {
                name: "Tokyo Robotics",
                location: "Bunkyo, Tokyo",
                website: "https://robotics.tokyo/",
                focus: "Humanoid and service robots (Torobo for manufacturing, logistics)",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://robotics.tokyo/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Ascent Robotics",
                location: "Shibuya, Tokyo",
                website: "https://ascent.ai/",
                focus: "AI-driven robotics for industrial and autonomous mobility solutions",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://ascent.ai/careers/",
                contactEmail: "N/A",
            },
            {
                name: "QBIT Robotics",
                location: "Minato, Tokyo",
                website: "https://www.qbit-robotics.co.jp/",
                focus: "Service robotics for restaurants and retail (telepresence robots)",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.qbit-robotics.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Yukai Engineering",
                location: "Taito, Tokyo",
                website: "https://www.yukai.co.jp/",
                focus: "Consumer robotics and IoT (BOCCO communication robot)",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.yukai.co.jp/recruit",
                contactEmail: "N/A",
            },
            {
                name: "Life Robotics",
                location: "Tokyo",
                website: "https://www.fanuc.co.jp/",
                focus: "Collaborative robot arms (Acquired by FANUC)",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.fanuc.co.jp/ja/recruit/index.html",
                contactEmail: "N/A",
            },
            {
                name: "SEQSENSE",
                location: "Chuo, Tokyo",
                website: "https://www.seqsense.com/",
                focus: "Autonomous mobile robots for security and facility management",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.seqsense.com/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Aba",
                location: "Osaka, Osaka",
                website: "https://aba-lab.com/",
                focus: "Robotics for nursing care and assistive technologies",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://aba-lab.com/recruit",
                contactEmail: "N/A",
            },
            {
                name: "GramEye",
                location: "Osaka, Osaka",
                website: "https://grameye.com/",
                focus: "AI and robotics for visual inspection in manufacturing",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://grameye.com/recruit",
                contactEmail: "N/A",
            },
            {
                name: "NIT Consultant",
                location: "Osaka, Osaka",
                website: "N/A",
                focus: "Robotics consulting and system integration for industrial applications",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "N/A",
                contactEmail: "N/A",
            },
            {
                name: "Smart Robotics",
                location: "Tokyo",
                website: "https://www.smartrobotics.jp/",
                focus: "IoT and robotics for drones and automation solutions",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.smartrobotics.jp/recruit",
                contactEmail: "N/A",
            },
            {
                name: "SteraVision",
                location: "Tokyo",
                website: "N/A",
                focus: "Visual systems for robotics and embedded applications",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "N/A",
                contactEmail: "N/A",
            },
            {
                name: "KiQ Robotics",
                location: "Osaka, Osaka",
                website: "https://kiq-robotics.com/",
                focus: "Industrial robotics for automation and manufacturing",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://kiq-robotics.com/recruit",
                contactEmail: "N/A",
            },
            {
                name: "SENSYN ROBOTICS",
                location: "Shibuya, Tokyo",
                website: "https://www.sensyn-robotics.com/",
                focus: "Drone-based robotics and IoT for inspection and surveillance",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.sensyn-robotics.com/recruit",
                contactEmail: "N/A",
            },
            {
                name: "HarvestX",
                location: "Bunkyo, Tokyo",
                website: "https://harvestx.jp/",
                focus: "Agricultural robotics for automated harvesting and IoT integration",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://harvestx.jp/recruit",
                contactEmail: "N/A",
            },
            {
                name: "ATR (Advanced Telecommunications Research Institute)",
                location: "Kyoto, Kyoto",
                website: "https://www.atr.jp/",
                focus: "Humanoid robotics and AI research, human-robot interaction",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.atr.jp/jobs/",
                contactEmail: "N/A",
            },
            {
                name: "Cross Effect",
                location: "Kyoto, Kyoto",
                website: "https://www.crosseffect.co.jp/",
                focus: "Embedded systems and IoT for robotics and automation",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.crosseffect.co.jp/recruit",
                contactEmail: "N/A",
            },
            {
                name: "OPExPARK",
                location: "Osaka, Osaka",
                website: "https://www.opexpark.co.jp/",
                focus: "IoT and robotics for medical and industrial applications",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.opexpark.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Integral Technology",
                location: "Osaka, Osaka",
                website: "https://integral-technology.co.jp/",
                focus: "Embedded systems and AI for robotics and IoT solutions",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://integral-technology.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Soracom",
                location: "Setagaya, Tokyo",
                website: "https://www.soracom.io/",
                focus: "IoT platforms for robotics and connected devices",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.soracom.io/careers/",
                contactEmail: "N/A",
            },
            {
                name: "H3 Dynamics",
                location: "Tokyo",
                website: "https://www.h3dynamics.com/",
                focus: "Drone-based robotics and IoT for industrial inspections",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.h3dynamics.com/careers",
                contactEmail: "N/A",
            },
            {
                name: "Kosmek Ltd.",
                location: "Kobe, Hyogo",
                website: "https://www.kosmek.co.jp/",
                focus: "Robotic hand changers, clamps, and automation equipment",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.kosmek.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Kawada Robotics",
                location: "Kobe, Hyogo",
                website: "https://www.kawadarobot.co.jp/",
                focus: "Humanoid and collaborative robots for industrial and service applications",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.kawadarobot.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Nextage",
                location: "Kobe, Hyogo",
                website: "https://www.nextage.co.jp/",
                focus: "IoT and embedded systems for smart manufacturing and robotics integration",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.nextage.co.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "I-PEX (Dai-Ichi Seiko)",
                location: "Kyoto, Kyoto",
                website: "https://www.i-pex.com/",
                focus: "Connectors and sensors for robotics and embedded systems",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.i-pex.com/careers",
                contactEmail: "N/A",
            },
            {
                name: "Keigan",
                location: "Kyoto, Kyoto",
                website: "https://www.keigan.co.jp/",
                focus: "Robotics for human-assistive applications and IoT integration",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.keigan.co.jp/recruit",
                contactEmail: "N/A",
            },
            {
                name: "Cyberdyne Inc.",
                location: "Tsukuba, Ibaraki",
                website: "https://www.cyberdyne.jp/",
                focus: "Wearable robotics (HAL exoskeletons) for medical and industrial use",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.cyberdyne.jp/recruit/",
                contactEmail: "N/A",
            },
            {
                name: "Ibaraki University Labs",
                location: "Ibaraki",
                website: "https://www.ibaraki.ac.jp/",
                focus: "Bio-mimetic and robotics mechatronics labs",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "https://www.ibaraki.ac.jp/en/employ/",
                contactEmail: "N/A",
            },
            {
                name: "Tsukuba Robotics",
                location: "Tsukuba, Ibaraki",
                website: "N/A",
                focus: "General term for robotics startups in Tsukuba Science City",
                funding: "N/A",
                englishFriendly: "N/A",
                careerPage: "N/A",
                contactEmail: "N/A",
            }
        ];

        let currentSortColumn = null;
        let currentSortDirection = 'asc'; // 'asc' or 'desc'
        let currentData = [...companiesData];

        // Function to render company table rows
        function renderCompanies(companies) {
            const companyTableBody = document.querySelector('#companyTable tbody');
            companyTableBody.innerHTML = ''; // Clear previous results
            const noResultsDiv = document.getElementById('noResults');

            if (companies.length === 0) {
                noResultsDiv.classList.remove('hidden');
                document.getElementById('companyTable').classList.add('hidden');
                return;
            } else {
                noResultsDiv.classList.add('hidden');
                document.getElementById('companyTable').classList.remove('hidden');
            }

            companies.forEach(company => {
                const row = document.createElement('tr');
                const createLinkOrText = (url, isEmail = false) => {
                    if (url && url !== 'N/A' && url.trim() !== '') {
                        if (isEmail) {
                            return `<a href="mailto:${url}" class="flex items-center"><span class="mr-1">📧</span>${url}</a>`;
                        } else if (url.startsWith('http')) {
                            try {
                                const parsedUrl = new URL(url);
                                return `<a href="${url}" target="_blank" rel="noopener noreferrer" class="flex items-center"><span class="mr-1">🔗</span>${parsedUrl.hostname}</a>`;
                            } catch (e) {
                                return `<span class="na-text">${url}</span>`;
                            }
                        } else {
                            return `<span class="na-text">${url}</span>`;
                        }
                    }
                    return `<span class="na-text">N/A</span>`;
                };

                row.innerHTML = `
                    <td class="font-medium text-gray-900">${company.name || '<span class="na-text">N/A</span>'}</td>
                    <td>${company.location !== 'N/A' ? company.location : '<span class="na-text">Not specified</span>'}</td>
                    <td>${company.focus || '<span class="na-text">N/A</span>'}</td>
                    <td>${company.funding || '<span class="na-text">N/A</span>'}</td>
                    <td>${company.englishFriendly || '<span class="na-text">N/A</span>'}</td>
                    <td>${createLinkOrText(company.website)}</td>
                    <td>${createLinkOrText(company.careerPage)}</td>
                    <td>${createLinkOrText(company.contactEmail, true)}</td>
                `;
                companyTableBody.appendChild(row);
            });
        }

        // Function to sort companies
        function sortCompanies(column) {
            if (currentSortColumn === column) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                currentSortColumn = column;
                currentSortDirection = 'asc';
            }

            currentData.sort((a, b) => {
                const aValue = (a[column] || '').toString().toLowerCase();
                const bValue = (b[column] || '').toString().toLowerCase();
                if (aValue < bValue) return currentSortDirection === 'asc' ? -1 : 1;
                if (aValue > bValue) return currentSortDirection === 'asc' ? 1 : -1;
                return 0;
            });

            renderCompanies(currentData);
            updateSortIcons();
        }

        // Function to update sort icons in table headers
        function updateSortIcons() {
            document.querySelectorAll('th .sort-icon').forEach(icon => {
                icon.textContent = '';
            });

            if (currentSortColumn) {
                const currentHeader = document.querySelector(`th[data-sort-by="${currentSortColumn}"] .sort-icon`);
                if (currentHeader) {
                    currentHeader.textContent = currentSortDirection === 'asc' ? '▲' : '▼';
                }
            }
        }

        // Populate location filter options
        function populateLocationFilter() {
            const locationFilter = document.getElementById('locationFilter');
            const locations = new Set();
            companiesData.forEach(company => {
                if (company.location && company.location !== 'N/A') {
                    let locationParts = company.location.split(',').map(part => part.trim());
                    locationParts.forEach(part => locations.add(part));
                }
            });

            const broadRegions = ['Kanto', 'Kansai'];
            broadRegions.forEach(region => locations.add(region));

            Array.from(locations).sort().forEach(location => {
                if (location) {
                    const option = document.createElement('option');
                    option.value = location;
                    option.textContent = location;
                    locationFilter.appendChild(option);
                }
            });
        }

        // Filter companies based on search and location
        function filterAndRender() {
            const searchTerm = document.getElementById('searchBar').value.toLowerCase();
            const selectedLocation = document.getElementById('locationFilter').value.toLowerCase();

            currentData = companiesData.filter(company => {
                const matchesSearch = Object.values(company).some(value => 
                    value && value.toString().toLowerCase().includes(searchTerm)
                );

                const matchesLocation = selectedLocation === '' || 
                    (company.location && company.location.toLowerCase().includes(selectedLocation)) ||
                    (selectedLocation === 'kanto' && ['tokyo', 'kanagawa', 'ibaraki', 'aichi'].some(loc => company.location.toLowerCase().includes(loc))) ||
                    (selectedLocation === 'kansai' && ['osaka', 'kyoto', 'hyogo'].some(loc => company.location.toLowerCase().includes(loc)));

                return matchesSearch && matchesLocation;
            });
            
            // Reset sort when filtering
            currentSortColumn = null;
            updateSortIcons();
            renderCompanies(currentData);
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            populateLocationFilter();
            renderCompanies(companiesData);

            document.querySelectorAll('th[data-sort-by]').forEach(header => {
                header.addEventListener('click', () => {
                    sortCompanies(header.dataset.sortBy);
                });
            });

            document.getElementById('searchBar').addEventListener('input', filterAndRender);
            document.getElementById('locationFilter').addEventListener('change', filterAndRender);
        });
    </script>
</body>
</html>
